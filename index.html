<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu App de Vendas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .cart-modal { display: none; }
        .cart-modal.active { display: flex; }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <header class="bg-indigo-700 text-white p-4 sticky top-0 z-50 shadow-lg flex justify-between items-center">
        <h1 class="text-xl font-bold">ðŸš€ Super Loja</h1>
        <button onclick="toggleCart()" class="relative">
            <i class="fas fa-shopping-cart text-2xl"></i>
            <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
        </button>
    </header>

    <div class="p-4">
        <div class="bg-indigo-100 p-6 rounded-2xl text-indigo-800 shadow-inner">
            <h2 class="font-bold text-lg">Ofertas da Semana! ðŸ”¥</h2>
            <p class="text-sm">Tudo em atÃ© 10x sem juros.</p>
        </div>
    </div>

    <main class="p-4 grid grid-cols-2 gap-4 pb-24" id="product-list">
        </main>

    <div id="cart-modal" class="cart-modal fixed inset-0 bg-black bg-opacity-50 z-[60] flex-col justify-end">
        <div class="bg-white rounded-t-3xl p-6 max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold">Meu Carrinho</h2>
                <button onclick="toggleCart()" class="text-gray-500 text-2xl">&times;</button>
            </div>
            <div id="cart-items" class="space-y-4">
                </div>
            <div class="border-t mt-6 pt-4">
                <div class="flex justify-between text-xl font-bold">
                    <span>Total:</span>
                    <span id="cart-total">R$ 0,00</span>
                </div>
                <button onclick="checkout()" class="w-full bg-green-500 text-white py-4 rounded-xl mt-4 font-bold shadow-lg">
                    Finalizar Pedido (WhatsApp)
                </button>
            </div>
        </div>
    </div>

    <script>
        const products = [
            { id: 1, name: "TÃªnis Sport", price: 199.90, img: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=200" },
            { id: 2, name: "RelÃ³gio Smart", price: 299.00, img: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=200" },
            { id: 3, name: "Fone Bluetooth", price: 150.00, img: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=200" },
            { id: 4, name: "Mochila Tech", price: 120.00, img: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=200" }
        ];

        let cart = [];

        function renderProducts() {
            const list = document.getElementById('product-list');
            list.innerHTML = products.map(p => `
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex flex-col">
                    <img src="${p.img}" class="rounded-lg mb-2 h-32 object-cover">
                    <h3 class="text-sm font-medium text-gray-800">${p.name}</h3>
                    <p class="text-indigo-600 font-bold">R$ ${p.price.toFixed(2)}</p>
                    <button onclick="addToCart(${p.id})" class="mt-2 bg-indigo-600 text-white py-2 rounded-lg text-xs font-bold uppercase hover:bg-indigo-700 transition">Adicionar</button>
                </div>
            `).join('');
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            updateCart();
        }

        function updateCart() {
            document.getElementById('cart-count').innerText = cart.length;
            const cartItems = document.getElementById('cart-items');
            const total = cart.reduce((acc, item) => acc + item.price, 0);
            
            cartItems.innerHTML = cart.map((item, index) => `
                <div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg">
                    <span class="text-sm font-medium">${item.name}</span>
                    <div class="flex items-center gap-3">
                        <span class="text-indigo-600 font-bold text-sm">R$ ${item.price.toFixed(2)}</span>
                        <button onclick="removeItem(${index})" class="text-red-500"><i class="fas fa-trash"></i></button>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('cart-total').innerText = `R$ ${total.toFixed(2)}`;
        }

        function removeItem(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function toggleCart() {
            document.getElementById('cart-modal').classList.toggle('active');
        }

        function checkout() {
            if(cart.length === 0) return alert("Carrinho vazio!");
            const total = cart.reduce((acc, item) => acc + item.price, 0);
            const msg = `OlÃ¡! Gostaria de encomendar: ${cart.map(i => i.name).join(', ')}. Total: R$ ${total.toFixed(2)}`;
            window.open(`https://wa.me/5511999999999?text=${encodeURIComponent(msg)}`);
        }

        renderProducts();
    </script>
</body>
</html>
